<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Peer to Peer Lending</title>

  <!-- ‚úÖ Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <!-- ‚úÖ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center p-6">

  <!-- Header -->
  <h1 class="text-3xl font-bold mb-6">üí∞ Decentralized Lending Platform</h1>

  <!-- Wallet Connect Section -->
  <div class="mb-8">
    <button 
      id="connectButton" 
      class="px-6 py-3 bg-blue-600 rounded-xl hover:bg-blue-700 transition"
    >
      Connect Wallet
    </button>
    <p id="walletAddress" class="mt-4 text-lg"></p>
  </div>

  <!-- Lender Panel -->
  <div class="bg-gray-800 p-6 rounded-2xl shadow-lg w-full max-w-md">
    <h2 class="text-2xl font-semibold mb-4">Lender Panel</h2>
    <input 
      id="interestRate" 
      type="number" 
      class="w-full p-2 mb-3 rounded text-black" 
      placeholder="Interest Rate (%)"
    >
    <input 
      id="loanAmount" 
      type="number" 
      class="w-full p-2 mb-3 rounded text-black" 
      placeholder="Loan Amount (in ETH)"
    >
    <input 
      id="lenderDoc" 
      type="file" 
      class="w-full p-2 mb-4 rounded bg-white text-black"
    >
    <button 
      onclick="offerLoan()" 
      class="w-full bg-green-600 hover:bg-green-700 p-3 rounded-xl font-semibold"
    >
      Offer Loan
    </button>
    <p id="loanStatus" class="mt-4 text-yellow-400"></p>
  </div>

  <script>
    const connectButton = document.getElementById('connectButton');
    const walletAddress = document.getElementById('walletAddress');
    const loanStatus = document.getElementById('loanStatus');

    // ‚úÖ Connect Wallet
    async function connectWallet() {
      if (typeof window.ethereum !== 'undefined') {
        try {
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          walletAddress.textContent = `‚úÖ Connected: ${accounts[0]}`;
        } catch (error) {
          console.error(error);
          walletAddress.textContent = '‚ùå Connection failed';
        }
      } else {
        walletAddress.textContent = '‚ö†Ô∏è MetaMask not found';
      }
    }

    connectButton.addEventListener('click', connectWallet);

    // ‚úÖ Offer Loan Function
    function offerLoan() {
      const interestRate = document.getElementById('interestRate').value;
      const loanAmount = document.getElementById('loanAmount').value;
      const lenderDoc = document.getElementById('lenderDoc').files[0];

      if (!window.ethereum || !walletAddress.textContent.includes('Connected')) {
        loanStatus.textContent = '‚ùå Please connect your wallet first.';
        return;
      }

      if (!interestRate || !loanAmount || !lenderDoc) {
        loanStatus.textContent = '‚ö†Ô∏è Please fill all fields and upload document.';
        return;
      }

      // You can add blockchain smart contract call here later
      loanStatus.textContent = `‚úÖ Loan offer created successfully!
      Interest: ${interestRate}% | Amount: ${loanAmount} ETH`;
    }
  </script>
</body>
</html>
